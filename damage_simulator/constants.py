from pathlib import Path

ROOT_DIR = Path(__file__).parent.parent
DATA_DIR = ROOT_DIR / "data"
BUFF_DIR = DATA_DIR / "buff"
DEBUFF_DIR = DATA_DIR / "debuff"
STUDENT_DIR = DATA_DIR / "student"
ENEMY_DIR = DATA_DIR / "enemy"
RARITY_ATTACK_RATIO = {1: 1.0, 2: 1.1, 3: 1.22, 4: 1.36, 5: 1.53}

WEAK_RATIO = [
    [2.0, 0.5, 1.0, 1.0],
    [1.0, 2.0, 0.5, 0.5],
    [0.5, 1.0, 2.0, 1.5],
    [0.5, 1.0, 1.0, 2.0],
]


INTERVALS_X = [
    0,
    4000000,
    6248000,
    8496000,
    10744000,
    12992000,
    15240000,
    17488000,
    19728000,
    22000000,
    10**20,
]

RATE = [1.0, 0.8, 0.65, 0.5, 0.4, 0.3, 0.225, 0.15, 0.075, 0.0]
INTERVALS_Y = [
    0,
    4000000,
    5798400,
    7259600,
    8383600,
    9282800,
    9957200,
    10463000,
    10799000,
    10969400,
    10969400,
]
# ((x_min, x_max), (a, b)) -> y = a * x + b if x_min <= x < x_max
DAMAGE_FUNC = [
    ((0, 4000000), (1.0, 0)),
    ((4000000, 6248000), (0.8, 4000000 - 0.8 * 4000000)),
    ((6248000, 8496000), (0.65, 5798400 - 0.65 * 6248000)),
    ((8496000, 10744000), (0.5, 7259600 - 0.5 * 8496000)),
    ((10744000, 12992000), (0.4, 8383600 - 0.4 * 10744000)),
    ((12992000, 15240000), (0.3, 9282800 - 0.3 * 12992000)),
    ((15240000, 17488000), (0.225, 9957200 - 0.225 * 15240000)),
    ((17488000, 19728000), (0.15, 10463000 - 0.15 * 17488000)),
    ((19728000, 22000000), (0.075, 10799000 - 0.075 * 19728000)),
    ((22000000, 10**20), (0.0, 10969400)),
]
# print(DAMAGE_FUNC)
